<app-header></app-header>
<div class="container py-4">
   <h4 class="pay_head">MVP notes</h4>
   <hr />
   <!-- form start -->
   <form [formGroup]="stripeTest" class="">
      <div class="row">
      <div class="col-md-6">
      <div class="mb-5">
         <p class="form_labell">Personal Details</p>
         <div class="form-row m-0">
            <div class="form-group col-md-6 mb-0 p-0">
               <fieldset disabled="disabled">
                  <input type="text" class="form-control" formControlName="firstName" id="firstName" placeholder="First name">
                  <div *ngIf='stripeTestError.firstName' class="alert- mt-2">{{stripeTestError.firstName}}</div>
               </fieldset>
            </div>
            <div class="form-group col-md-6 mb-0 p-0">
               <fieldset disabled="disabled">
                  <input type="text" class="form-control" formControlName="lastName" id="lastName" placeholder="Last name">
                  <div *ngIf='stripeTestError.lastName' class="alert- mt-2">{{stripeTestError.lastName}}</div>
               </fieldset>
            </div>
         </div>
         <!-- <div class="form-group mb-0 p-0">
            <input type="text" class="form-control" formControlName="name" id="companyName" placeholder="Company name(Optional)">
            </div> -->
         <div class="form-group mb-0 p-0">
            <fieldset disabled="disabled">
               <input type="email" class="form-control" id="email" formControlName="email" placeholder="Email">
            </fieldset>
         </div>
         <div *ngIf='stripeTestError.email' class="alert- mt-2">{{stripeTestError.email}}</div>
      </div>
      <p>Apply Coupon</p>
      <div class="form-group mb-0 p-0">
         <input type="text" class="form-control" formControlName="coupon" id="coupon" placeholder="Coupon code">
         &nbsp;&nbsp;&nbsp;
         <button class="redeem-btn" *ngIf='discount === null;else apply' (click)="applyCoupon()">Redeem</button>
         <ng-template #apply>
            <button class="cancle-promo" (click)="cancleCoupon()"><img src="../../../assets/images/cancel.png"
               class="tick" /></button>
         </ng-template>
         <div *ngIf='couponMessage' class="alert-">{{couponMessage}}</div>
      </div>
            <p>Payment Details</p>
         <div class="total-div">
            <div class="d-flex justify-content-between align-items-center">
               <p class="subtotal">Subtotal</p>
               <p>${{planData?.planPrice}}</p>
            </div>
            <div *ngIf='discount !==null' class="d-flex justify-content-between align-items-center">
               <p class="subtotal">Discount</p>
               <p>${{discount}}</p>
            </div>
            <div class="d-flex justify-content-between align-items-center">
               <p class="subtotal">Total</p>
               <h5>${{planPrice}}</h5>
            </div>
         </div>
         <div class="d-flex justify-content-between mx-5 my-4 safe-data-div">
            <p><span><i class="fa fa-shield"></i></span> SAFE PAYMENT</p>
            <p><span><i class="fa fa-lock"></i></span> DATA PROTECTION</p>
         </div>
         <div class="form-group">
            <label for="CreditCardNumber" class="pay-label">Card number</label>
            <ngx-stripe-card
            [options]="cardOptions"
            [elementsOptions]="elementsOptions"
            ></ngx-stripe-card>
         </div>
         <button class="pay_button" (click)='createToken()'>Pay with Credit or Debit Card</button>
         <button class="cancel_button" routerLink='/subscription'>Cancel</button>
      </div>
      <div class="col-md-6">
   
      </div>
      </div>
   </form>
   <!-- form ends -->
</div>
<ngx-spinner></ngx-spinner>
